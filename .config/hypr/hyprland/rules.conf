# Disable blur for xwayland context menus
windowrule {
  name = windowrule-1
  no_blur = on
  match:class = ^()$
  match:title = ^()$
}

# windowrulev2 = noblur, xwayland:1


# Floating
windowrule {
  name = windowrule-2
  float = on
  match:class = ^(blueberry\.py)$
}

windowrule {
  name = windowrule-3
  float = on
  match:class = ^(steam)$
}

windowrule {
  name = windowrule-4
  float = on
  match:class = ^(guifetch)$   # FlafyDev/guifetch
}

windowrule {
  name = windowrule-5
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(pavucontrol)$
}

windowrule {
  name = windowrule-6
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(org.pulseaudio.pavucontrol)$
}

windowrule {
  name = windowrule-7
  float = on
  size = (monitor_w*0.45)
  center = on
  match:class = ^(nm-connection-editor)$
}

windowrule {
  name = windowrule-8
  float = on
  match:class = .*plasmawindowed.*
}

windowrule {
  name = windowrule-9
  float = on
  match:class = kcm_.*
}

windowrule {
  name = windowrule-10
  float = on
  match:class = .*bluedevilwizard
}

windowrule {
  name = windowrule-11
  float = on
  match:title = .*Welcome
}

windowrule {
  name = windowrule-12
  float = on
  match:title = ^(illogical-impulse Settings)$
}

windowrule {
  name = windowrule-13
  float = on
  match:class = org.freedesktop.impl.portal.desktop.kde
}


# No appearance
# kde-material-you-colors spawns a window when changing dark/light theme. This is to make sure it doesn't interfere at all.
windowrule {
  name = windowrule-14
  float = on
  no_initial_focus = on
  move = (999999) (999999)
  match:class = ^(plasma-changeicons)$
}


# Tiling
windowrule {
  name = windowrule-15
  tile = on
  match:class = ^dev\.warp\.Warp$
}


# Picture-in-Picture
windowrule {
  name = windowrule-16
  float = on
  keep_aspect_ratio = on
  move = ((monitor_w*0.73)) ((monitor_h*0.72))
  size = (monitor_w*0.25)
  pin = on
  match:title = ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
}


# Dialog windows â€“ float+center these windows.
windowrule {
  name = windowrule-17
  center = on
  float = on
  match:title = ^(Open File)(.*)$
}

windowrule {
  name = windowrule-18
  center = on
  float = on
  match:title = ^(Select a File)(.*)$
}

windowrule {
  name = windowrule-19
  center = on
  float = on
  match:title = ^(Choose wallpaper)(.*)$
}

windowrule {
  name = windowrule-20
  center = on
  float = on
  match:title = ^(Open Folder)(.*)$
}

windowrule {
  name = windowrule-21
  center = on
  float = on
  match:title = ^(Save As)(.*)$
}

windowrule {
  name = windowrule-22
  center = on
  float = on
  match:title = ^(Library)(.*)$
}

windowrule {
  name = windowrule-23
  center = on
  float = on
  match:title = ^(File Upload)(.*)$
}


# --- Tearing ---
windowrule {
  name = windowrule-24
  immediate = on
  match:title = .*\.exe
}

windowrule {
  name = windowrule-25
  immediate = on
  match:title = .*minecraft.*
}

windowrule {
  name = windowrule-26
  immediate = on
  match:class = ^(steam_app)
}


# No shadow for tiled windows (matches windows that are not floating).
windowrule {
  name = windowrule-27
  no_shadow = on
  match:float = 0
}


# ######## Workspace rules ########
workspace = special:special, gapsout:30

#-- xwayland video bridge
windowrule = match:class ^(xwaylandvideobridge)$,opacity 0.0 override
windowrule = match:class ^(xwaylandvideobridge)$,no_anim on
windowrule = match:class ^(xwaylandvideobridge)$,no_initial_focus on
windowrule = match:class ^(xwaylandvideobridge)$,max_size 1 1
windowrule = match:class ^(xwaylandvideobridge)$,no_blur on
windowrule = match:class ^(xwaylandvideobridge)$,no_focus on

# ######## Layer rules ########
layerrule = xray 1, match:class .*
# layerrule = noanim, .*
layerrule = no_anim on, match:class walker
layerrule = no_anim on, match:class selection
layerrule = no_anim on, match:class overview
layerrule = no_anim on, match:class anyrun
layerrule = no_anim on, match:class indicator.*
layerrule = no_anim on, match:class osk
layerrule = no_anim on, match:class hyprpicker


#--Spotify
windowrule = float on, size 1038 622,match:class [Ss]potify,
windowrule = workspace 6,match:class [Ss]potify,
windowrule = no_initial_focus on,match:class [Ss]potify,

#--youtube-music
windowrule = float on,match:class com.github.th_ch.youtube_music,
windowrule = size 1038 622,match:class com.github.th_ch.youtube_music,
windowrule = workspace 6,match:class com.github.th_ch.youtube_music,
windowrule = no_initial_focus on,match:class com.github.th_ch.youtube_music,

#-- Citrix
windowrule = workspace 4,match:class Wfica
windowrule = no_initial_focus on,match:class Wfica

#-- Zoom
windowrule = float on, match:class [Zz]oom
windowrule = workspace 9,match:class [Zz]oom

#-- anki
windowrule = float on, match:class [Aa]nki , match:title [Aa]dd
